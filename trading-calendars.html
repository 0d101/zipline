

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Trading Calendars &mdash; Zipline 1.3.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Zipline 1.3.0 documentation" href="index.html"/>
        <link rel="next" title="Risk and Performance Metrics" href="risk-and-perf-metrics.html"/>
        <link rel="prev" title="Data Bundles" href="bundles.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> Zipline
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#installing-with-pip">Installing with <code class="docutils literal"><span class="pre">pip</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#gnu-linux">GNU/Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#osx">OSX</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#windows">Windows</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install.html#installing-with-conda">Installing with <code class="docutils literal"><span class="pre">conda</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#managing-conda-environments">Managing <code class="docutils literal"><span class="pre">conda</span></code> environments</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="beginner-tutorial.html">Zipline Beginner Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="beginner-tutorial.html#basics">Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="beginner-tutorial.html#my-first-algorithm">My First Algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="beginner-tutorial.html#running-the-algorithm">Running the Algorithm</a><ul>
<li class="toctree-l3"><a class="reference internal" href="beginner-tutorial.html#ingesting-data">Ingesting Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="beginner-tutorial.html#command-line-interface">Command Line Interface</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="beginner-tutorial.html#ipython-notebook">IPython Notebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="beginner-tutorial.html#access-to-previous-prices-using-history">Access to Previous Prices Using <code class="docutils literal"><span class="pre">history</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="beginner-tutorial.html#working-example-dual-moving-average-cross-over">Working example: Dual Moving Average Cross-Over</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="beginner-tutorial.html#conclusions">Conclusions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bundles.html">Data Bundles</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bundles.html#discovering-available-bundles">Discovering Available Bundles</a></li>
<li class="toctree-l2"><a class="reference internal" href="bundles.html#ingesting-data">Ingesting Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="bundles.html#old-data">Old Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="bundles.html#running-backtests-with-data-bundles">Running Backtests with Data Bundles</a></li>
<li class="toctree-l2"><a class="reference internal" href="bundles.html#default-data-bundles">Default Data Bundles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bundles.html#quandl-wiki-bundle">Quandl WIKI Bundle</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bundles.html#writing-a-new-bundle">Writing a New Bundle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bundles.html#environ"><code class="docutils literal"><span class="pre">environ</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="bundles.html#asset-db-writer"><code class="docutils literal"><span class="pre">asset_db_writer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="bundles.html#minute-bar-writer"><code class="docutils literal"><span class="pre">minute_bar_writer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="bundles.html#daily-bar-writer"><code class="docutils literal"><span class="pre">daily_bar_writer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="bundles.html#adjustment-writer"><code class="docutils literal"><span class="pre">adjustment_writer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="bundles.html#calendar"><code class="docutils literal"><span class="pre">calendar</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="bundles.html#start-session"><code class="docutils literal"><span class="pre">start_session</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="bundles.html#end-session"><code class="docutils literal"><span class="pre">end_session</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="bundles.html#cache"><code class="docutils literal"><span class="pre">cache</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="bundles.html#show-progress"><code class="docutils literal"><span class="pre">show_progress</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="bundles.html#output-dir"><code class="docutils literal"><span class="pre">output_dir</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bundles.html#ingesting-data-from-csv-files">Ingesting Data from .csv Files</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Trading Calendars</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#what-is-a-trading-calendar">What is a Trading Calendar?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#why-should-you-care-about-trading-calendars">Why Should You Care About Trading Calendars?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-tradingcalendar-class">The TradingCalendar Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-a-custom-trading-calendar">Building a Custom Trading Calendar</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conclusions">Conclusions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="risk-and-perf-metrics.html">Risk and Performance Metrics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="risk-and-perf-metrics.html#metrics-sets">Metrics Sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="risk-and-perf-metrics.html#selecting-the-metrics-set">Selecting the Metrics Set</a><ul>
<li class="toctree-l3"><a class="reference internal" href="risk-and-perf-metrics.html#command-line-and-ipython-magic">Command Line and IPython Magic</a></li>
<li class="toctree-l3"><a class="reference internal" href="risk-and-perf-metrics.html#run-algorithm"><code class="docutils literal"><span class="pre">run_algorithm</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="risk-and-perf-metrics.html#running-without-metrics">Running Without Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="risk-and-perf-metrics.html#defining-new-metrics">Defining New Metrics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="risk-and-perf-metrics.html#start-of-simulation"><code class="docutils literal"><span class="pre">start_of_simulation</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="risk-and-perf-metrics.html#end-of-simulation"><code class="docutils literal"><span class="pre">end_of_simulation</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="risk-and-perf-metrics.html#start-of-session"><code class="docutils literal"><span class="pre">start_of_session</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="risk-and-perf-metrics.html#end-of-session"><code class="docutils literal"><span class="pre">end_of_session</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="risk-and-perf-metrics.html#end-of-bar"><code class="docutils literal"><span class="pre">end_of_bar</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="risk-and-perf-metrics.html#defining-new-metrics-sets">Defining New Metrics Sets</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="development-guidelines.html">Development Guidelines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="development-guidelines.html#creating-a-development-environment">Creating a Development Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="development-guidelines.html#development-with-docker">Development with Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="development-guidelines.html#style-guide-running-tests">Style Guide &amp; Running Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="development-guidelines.html#continuous-integration">Continuous Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="development-guidelines.html#packaging">Packaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="development-guidelines.html#contributing-to-the-docs">Contributing to the Docs</a></li>
<li class="toctree-l2"><a class="reference internal" href="development-guidelines.html#commit-messages">Commit messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="development-guidelines.html#formatting-docstrings">Formatting Docstrings</a></li>
<li class="toctree-l2"><a class="reference internal" href="development-guidelines.html#updating-the-whatsnew">Updating the Whatsnew</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#running-a-backtest">Running a Backtest</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#algorithm-api">Algorithm API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#data-object">Data Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#scheduling-functions">Scheduling Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#orders">Orders</a><ul>
<li class="toctree-l4"><a class="reference internal" href="appendix.html#order-cancellation-policies">Order Cancellation Policies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#assets">Assets</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#trading-controls">Trading Controls</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#simulation-parameters">Simulation Parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="appendix.html#commission-models">Commission Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="appendix.html#slippage-models">Slippage Models</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#pipeline">Pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#blotters">Blotters</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#pipeline-api">Pipeline API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#built-in-factors">Built-in Factors</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#built-in-filters">Built-in Filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#pipeline-engine">Pipeline Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#data-loaders">Data Loaders</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#asset-metadata">Asset Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#trading-calendar-api">Trading Calendar API</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#data-api">Data API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#writers">Writers</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#readers">Readers</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#bundles">Bundles</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#risk-metrics">Risk Metrics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#algorithm-state">Algorithm State</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#built-in-metrics">Built-in Metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#metrics-sets">Metrics Sets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#utilities">Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#caching">Caching</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix.html#command-line">Command Line</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="release-process.html">Release Process</a><ul>
<li class="toctree-l2"><a class="reference internal" href="release-process.html#updating-the-release-notes">Updating the Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-process.html#updating-the-python-stub-files">Updating the Python stub files</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-process.html#updating-the-version">Updating the <code class="docutils literal"><span class="pre">__version__</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="release-process.html#uploading-pypi-packages">Uploading PyPI packages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="release-process.html#sdist"><code class="docutils literal"><span class="pre">sdist</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="release-process.html#bdist"><code class="docutils literal"><span class="pre">bdist</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="release-process.html#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-process.html#uploading-conda-packages">Uploading conda packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-process.html#next-commit">Next Commit</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#release-1-3-0">Release 1.3.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="releases.html#highlights">Highlights</a><ul>
<li class="toctree-l4"><a class="reference internal" href="releases.html#support-for-newer-numpy-pandas-versions">Support for Newer Numpy/Pandas Versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="releases.html#standalone-trading-calendars-module">Standalone <code class="docutils literal"><span class="pre">trading_calendars</span></code> Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="releases.html#custom-blotters">Custom Blotters</a></li>
<li class="toctree-l4"><a class="reference internal" href="releases.html#custom-command-line-arguments">Custom Command-Line Arguments</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#enhancements">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#experimental-features">Experimental Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#bug-fixes">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#performance">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#maintenance-and-refactorings">Maintenance and Refactorings</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#build">Build</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#release-1-2-0">Release 1.2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id1">Highlights</a><ul>
<li class="toctree-l4"><a class="reference internal" href="releases.html#extensible-risk-and-performance-metrics-2081">Extensible Risk and Performance Metrics (#2081)</a></li>
<li class="toctree-l4"><a class="reference internal" href="releases.html#docs-trading-calendars-and-benchmarks">Docs, Trading Calendars, and Benchmarks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id2">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id3">Experimental Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id4">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id5">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id6">Maintenance and Refactorings</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id7">Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#documentation">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#release-1-1-1">Release 1.1.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id10">Highlights</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id11">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id12">Experimental Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id13">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id14">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id15">Maintenance and Refactorings</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id16">Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id17">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id18">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#release-1-1-0">Release 1.1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id19">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id20">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id21">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id22">Maintenance and Refactorings</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id23">Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id24">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id25">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#release-1-0-2">Release 1.0.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id26">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#experimental">Experimental</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id27">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id28">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id29">Maintenance and Refactorings</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id30">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#testing">Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#data-format-changes">Data Format Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#release-1-0-1">Release 1.0.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id31">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id32">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id33">Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#release-1-0-0">Release 1.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id34">Highlights</a><ul>
<li class="toctree-l4"><a class="reference internal" href="releases.html#zipline-1-0-rewrite-1105">Zipline 1.0 Rewrite (#1105)</a></li>
<li class="toctree-l4"><a class="reference internal" href="releases.html#new-entry-points-1173-and-1178">New Entry Points (#1173 and #1178)</a></li>
<li class="toctree-l4"><a class="reference internal" href="releases.html#data-bundles-1173-and-1178">Data Bundles (#1173 and #1178)</a></li>
<li class="toctree-l4"><a class="reference internal" href="releases.html#string-support-in-pipeline-1174">String Support in Pipeline (#1174)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id35">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id36">Experimental Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id37">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id38">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id39">Maintenance and Refactorings</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id40">Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id41">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id42">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#release-0-9-0">Release 0.9.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id43">Highlights</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id44">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id45">Experimental Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id46">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id47">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id48">Maintenance and Refactorings</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id49">Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id50">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id51">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#release-0-8-4">Release 0.8.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id52">Highlights</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id53">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id54">Experimental Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id55">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id56">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id57">Maintenance and Refactorings</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id58">Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id59">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id60">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#release-0-8-3">Release 0.8.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#release-0-8-0">Release 0.8.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id61">Highlights</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id62">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id63">Experimental Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id64">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id65">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id66">Maintenance and Refactorings</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id67">Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id68">Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#release-0-7-0">Release 0.7.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id69">Highlights</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id70">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id71">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id72">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id73">Maintenance and Refactorings</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id74">Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#contributors">Contributors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#release-0-6-1">Release 0.6.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id75">Highlights</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id76">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id77">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id78">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id79">Maintenance and Refactorings</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id80">Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id81">Contributors</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Zipline</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Trading Calendars</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/trading-calendars.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="trading-calendars">
<h1>Trading Calendars<a class="headerlink" href="#trading-calendars" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-is-a-trading-calendar">
<h2>What is a Trading Calendar?<a class="headerlink" href="#what-is-a-trading-calendar" title="Permalink to this headline">¶</a></h2>
<p>A trading calendar represents the timing information of a single market exchange. The timing information is made up of two parts: sessions, and opens/closes. This is represented by the Zipline <code class="xref py py-class docutils literal"><span class="pre">TradingCalendar</span></code> class, and is used as the parent class for all new <code class="docutils literal"><span class="pre">TradingCalendar</span></code> s.</p>
<p>A session represents a contiguous set of minutes, and has a label that is midnight UTC. It is important to note that a session label should not be considered a specific point in time, and that midnight UTC is just being used for convenience.</p>
<p>For an average day of the <a class="reference external" href="https://www.nyse.com/index">New York Stock Exchange</a>, the market opens at 9:30AM and closes at 4PM. Trading sessions can change depending on the exchange, day of the year, etc.</p>
</div>
<div class="section" id="why-should-you-care-about-trading-calendars">
<h2>Why Should You Care About Trading Calendars?<a class="headerlink" href="#why-should-you-care-about-trading-calendars" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s say you want to buy a share of some equity on Tuesday, and then sell it on Saturday. If the exchange in which you&#8217;re trading that equity is not open on Saturday, then in reality it would not be possible to trade that equity at that time, and you would have to wait until some other number of days past Saturday. Since you wouldn&#8217;t be able to place the trade in reality, it would also be unreasonable for your backtest to place a trade on Saturday.</p>
<p>In order for you to backtest your strategy, the dates in that are accounted for in your <a class="reference external" href="http://www.zipline.io/bundles.html">data bundle</a> and the dates in your <code class="docutils literal"><span class="pre">TradingCalendar</span></code> should match up; if the dates don&#8217;t match up, then you you&#8217;re going to see some errors along the way. This holds for both minutely and daily data.</p>
</div>
<div class="section" id="the-tradingcalendar-class">
<h2>The TradingCalendar Class<a class="headerlink" href="#the-tradingcalendar-class" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">TradingCalendar</span></code> class has many properties we should be thinking about if we were to build our own <code class="docutils literal"><span class="pre">TradingCalendar</span></code> for an exchange. These include properties such as:</p>
<blockquote>
<div><ul class="simple">
<li>Name of the Exchange</li>
<li>Timezone</li>
<li>Open Time</li>
<li>Close Time</li>
<li>Regular &amp; Ad hoc Holidays</li>
<li>Special Opens &amp; Closes</li>
</ul>
</div></blockquote>
<p>And several others. If you&#8217;d like to see all of the properties and methods available to you through the <code class="docutils literal"><span class="pre">TradingCalendar</span></code> API, please take a look at the <a class="reference external" href="http://www.zipline.io/appendix.html#trading-calendar-api">API Reference</a></p>
<p>Now we&#8217;ll take a look at the London Stock Exchange Calendar <code class="xref py py-class docutils literal"><span class="pre">LSEExchangeCalendar</span></code> as an example below:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">LSEExchangeCalendar</span><span class="p">(</span><span class="n">TradingCalendar</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Exchange calendar for the London Stock Exchange</span>

<span class="sd">  Open Time: 8:00 AM, GMT</span>
<span class="sd">  Close Time: 4:30 PM, GMT</span>

<span class="sd">  Regularly-Observed Holidays:</span>
<span class="sd">    - New Years Day (observed on first business day on/after)</span>
<span class="sd">    - Good Friday</span>
<span class="sd">    - Easter Monday</span>
<span class="sd">    - Early May Bank Holiday (first Monday in May)</span>
<span class="sd">    - Spring Bank Holiday (last Monday in May)</span>
<span class="sd">    - Summer Bank Holiday (last Monday in May)</span>
<span class="sd">    - Christmas Day</span>
<span class="sd">    - Dec. 27th (if Christmas is on a weekend)</span>
<span class="sd">    - Boxing Day</span>
<span class="sd">    - Dec. 28th (if Boxing Day is on a weekend)</span>
<span class="sd">  &quot;&quot;&quot;</span>

  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;LSE&quot;</span>

  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">tz</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">timezone</span><span class="p">(</span><span class="s1">&#39;Europe/London&#39;</span><span class="p">)</span>

  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">open_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">time</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">close_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">time</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">regular_holidays</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">HolidayCalendar</span><span class="p">([</span>
      <span class="n">LSENewYearsDay</span><span class="p">,</span>
      <span class="n">GoodFriday</span><span class="p">,</span>
      <span class="n">EasterMonday</span><span class="p">,</span>
      <span class="n">MayBank</span><span class="p">,</span>
      <span class="n">SpringBank</span><span class="p">,</span>
      <span class="n">SummerBank</span><span class="p">,</span>
      <span class="n">Christmas</span><span class="p">,</span>
      <span class="n">WeekendChristmas</span><span class="p">,</span>
      <span class="n">BoxingDay</span><span class="p">,</span>
      <span class="n">WeekendBoxingDay</span>
    <span class="p">])</span>
</pre></div>
</div>
<p>You can create the <code class="docutils literal"><span class="pre">Holiday</span></code> objects mentioned in <code class="docutils literal"><span class="pre">def</span> <span class="pre">regular_holidays(self)`</span> <span class="pre">through</span> <span class="pre">the</span> <span class="pre">`pandas</span> <span class="pre">&lt;http://pandas.pydata.org/pandas-docs/stable/&gt;`__</span> <span class="pre">module,</span> <span class="pre">``pandas.tseries.holiday.Holiday</span></code>, and also take a look at the <a class="reference external" href="https://github.com/quantopian/zipline/blob/master/zipline/utils/calendars/exchange_calendar_lse.py">LSEExchangeCalendar</a> code as an example, or take a look at the code snippet below.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pandas.tseries.holiday</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Holiday</span><span class="p">,</span>
    <span class="n">DateOffset</span><span class="p">,</span>
    <span class="n">MO</span>
<span class="p">)</span>

<span class="n">SomeSpecialDay</span> <span class="o">=</span> <span class="n">Holiday</span><span class="p">(</span>
    <span class="s2">&quot;Some Special Day&quot;</span><span class="p">,</span>
    <span class="n">month</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">day</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span>
    <span class="n">offset</span><span class="o">=</span><span class="n">DateOffSet</span><span class="p">(</span><span class="n">weekday</span><span class="o">=</span><span class="n">MO</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="building-a-custom-trading-calendar">
<h2>Building a Custom Trading Calendar<a class="headerlink" href="#building-a-custom-trading-calendar" title="Permalink to this headline">¶</a></h2>
<p>Now we&#8217;ll build our own custom trading calendar. This calendar will be used for trading assets that can be traded on a 24/7 exchange calendar. This means that it will be open on Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, and Sunday, and the exchange will open at 12AM and close at 11:59PM. The timezone which we&#8217;ll use is UTC.</p>
<p>First we&#8217;ll start off by importing some modules that will be useful to us.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># for setting our open and close times</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">time</span>
<span class="c1"># for setting our start and end sessions</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="c1"># for setting which days of the week we trade on</span>
<span class="kn">from</span> <span class="nn">pandas.tseries.offsets</span> <span class="kn">import</span> <span class="n">CustomBusinessDay</span>
<span class="c1"># for setting our timezone</span>
<span class="kn">from</span> <span class="nn">pytz</span> <span class="kn">import</span> <span class="n">timezone</span>

<span class="c1"># for creating and registering our calendar</span>
<span class="kn">from</span> <span class="nn">trading_calendars</span> <span class="kn">import</span> <span class="n">register_calendar</span><span class="p">,</span> <span class="n">TradingCalendar</span>
<span class="kn">from</span> <span class="nn">zipline.utils.memoize</span> <span class="kn">import</span> <span class="n">lazyval</span>
</pre></div>
</div>
<p>And now we&#8217;ll actually build this calendar, which we&#8217;ll call <code class="docutils literal"><span class="pre">TFSExchangeCalendar</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TFSExchangeCalendar</span><span class="p">(</span><span class="n">TradingCalendar</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  An exchange calendar for trading assets 24/7.</span>

<span class="sd">  Open Time: 12AM, UTC</span>
<span class="sd">  Close Time: 11:59PM, UTC</span>
<span class="sd">  &quot;&quot;&quot;</span>

  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The name of the exchange, which Zipline will look for</span>
<span class="sd">    when we run our algorithm and pass TFS to</span>
<span class="sd">    the --trading-calendar CLI flag.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;TFS&quot;</span>

  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">tz</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The timezone in which we&#39;ll be running our algorithm.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">timezone</span><span class="p">(</span><span class="s2">&quot;UTC&quot;</span><span class="p">)</span>

  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">open_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The time in which our exchange will open each day.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">time</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">close_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The time in which our exchange will close each day.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">time</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">59</span><span class="p">)</span>

  <span class="nd">@lazyval</span>
  <span class="k">def</span> <span class="nf">day</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The days on which our exchange will be open.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">weekmask</span> <span class="o">=</span> <span class="s2">&quot;Mon Tue Wed Thu Fri Sat Sun&quot;</span>
    <span class="k">return</span> <span class="n">CustomBusinessDay</span><span class="p">(</span>
      <span class="n">weekmask</span><span class="o">=</span><span class="n">weekmask</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="conclusions">
<h2>Conclusions<a class="headerlink" href="#conclusions" title="Permalink to this headline">¶</a></h2>
<p>In order for you to run your algorithm with this calendar, you&#8217;ll need have a data bundle in which your assets have dates that run through all days of the week. You can read about how to make your own data bundle in the <a class="reference external" href="http://www.zipline.io/bundles.html#writing-a-new-bundle">Writing a New Bundle</a> documentation, or use the <a class="reference external" href="https://github.com/quantopian/zipline/blob/master/zipline/data/bundles/csvdir.py">csvdir bundle</a> for creating a bundle from CSV files.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="risk-and-perf-metrics.html" class="btn btn-neutral float-right" title="Risk and Performance Metrics" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="bundles.html" class="btn btn-neutral" title="Data Bundles" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Quantopian Inc..
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.3.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>