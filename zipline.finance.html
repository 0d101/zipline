<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>zipline.finance subpackage &mdash; zipline 0.7.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.7.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="zipline 0.7.0 documentation" href="index.html" />
    <link rel="up" title="zipline Package" href="zipline.html" />
    <link rel="next" title="zipline.gens subpackage" href="zipline.gens.html" />
    <link rel="prev" title="zipline.data subpackage" href="zipline.data.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="zipline.gens.html" title="zipline.gens subpackage"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="zipline.data.html" title="zipline.data subpackage"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">zipline 0.7.0 documentation</a> &raquo;</li>
          <li><a href="modules.html" >Packages and Modules</a> &raquo;</li>
          <li><a href="zipline.html" accesskey="U"><tt class="docutils literal"><span class="pre">zipline</span></tt> Package</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-zipline.finance.__init__">
<span id="zipline-finance-subpackage"></span><h1><tt class="xref py py-mod docutils literal"><span class="pre">zipline.finance</span></tt> subpackage<a class="headerlink" href="#module-zipline.finance.__init__" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-zipline.finance.commission">
<span id="commission-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">commission</span></tt> Module<a class="headerlink" href="#module-zipline.finance.commission" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="zipline.finance.commission.PerDollar">
<em class="property">class </em><tt class="descclassname">zipline.finance.commission.</tt><tt class="descname">PerDollar</tt><big>(</big><em>cost=0.0015</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/commission.html#PerDollar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.commission.PerDollar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Calculates a commission for a transaction based on a per
dollar cost.</p>
<dl class="method">
<dt id="zipline.finance.commission.PerDollar.calculate">
<tt class="descname">calculate</tt><big>(</big><em>transaction</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/commission.html#PerDollar.calculate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.commission.PerDollar.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a tuple of:
(per share commission, total transaction commission)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.finance.commission.PerShare">
<em class="property">class </em><tt class="descclassname">zipline.finance.commission.</tt><tt class="descname">PerShare</tt><big>(</big><em>cost=0.03</em>, <em>min_trade_cost=None</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/commission.html#PerShare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.commission.PerShare" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Calculates a commission for a transaction based on a per
share cost with an optional minimum cost per trade.</p>
<dl class="method">
<dt id="zipline.finance.commission.PerShare.calculate">
<tt class="descname">calculate</tt><big>(</big><em>transaction</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/commission.html#PerShare.calculate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.commission.PerShare.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a tuple of:
(per share commission, total transaction commission)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.finance.commission.PerTrade">
<em class="property">class </em><tt class="descclassname">zipline.finance.commission.</tt><tt class="descname">PerTrade</tt><big>(</big><em>cost=5.0</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/commission.html#PerTrade"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.commission.PerTrade" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Calculates a commission for a transaction based on a per
trade cost.</p>
<dl class="method">
<dt id="zipline.finance.commission.PerTrade.calculate">
<tt class="descname">calculate</tt><big>(</big><em>transaction</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/commission.html#PerTrade.calculate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.commission.PerTrade.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a tuple of:
(per share commission, total transaction commission)</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-zipline.finance.performance">
<span id="performance-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">performance</span></tt> Module<a class="headerlink" href="#module-zipline.finance.performance" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="zipline.finance.performance.PerformanceTracker">
<em class="property">class </em><tt class="descclassname">zipline.finance.performance.</tt><tt class="descname">PerformanceTracker</tt><big>(</big><em>sim_params</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformanceTracker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Tracks the performance of the algorithm.</p>
<dl class="method">
<dt id="zipline.finance.performance.PerformanceTracker.check_upcoming_dividends">
<tt class="descname">check_upcoming_dividends</tt><big>(</big><em>midnight_of_date_that_just_ended</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformanceTracker.check_upcoming_dividends" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if we currently own any stocks with dividends whose ex_date is
the next trading day.  Track how much we should be payed on those
dividends&#8217; pay dates.</p>
<p>Then check if we are owed cash/stock for any dividends whose pay date
is the next trading day.  Apply all such benefits, then recalculate
performance.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformanceTracker.get_account">
<tt class="descname">get_account</tt><big>(</big><em>performance_needs_update</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformanceTracker.get_account" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformanceTracker.get_portfolio">
<tt class="descname">get_portfolio</tt><big>(</big><em>performance_needs_update</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformanceTracker.get_portfolio" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformanceTracker.handle_intraday_market_close">
<tt class="descname">handle_intraday_market_close</tt><big>(</big><em>new_mkt_open</em>, <em>new_mkt_close</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformanceTracker.handle_intraday_market_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Function called at market close only when emitting at minutely
frequency.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformanceTracker.handle_market_close_daily">
<tt class="descname">handle_market_close_daily</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformanceTracker.handle_market_close_daily" title="Permalink to this definition">¶</a></dt>
<dd><p>Function called after handle_data when running with daily emission
rate.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformanceTracker.handle_minute_close">
<tt class="descname">handle_minute_close</tt><big>(</big><em>dt</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformanceTracker.handle_minute_close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformanceTracker.handle_simulation_end">
<tt class="descname">handle_simulation_end</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformanceTracker.handle_simulation_end" title="Permalink to this definition">¶</a></dt>
<dd><p>When the simulation is complete, run the full period risk report
and send it out on the results socket.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformanceTracker.initialize_dividends_from_other">
<tt class="descname">initialize_dividends_from_other</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformanceTracker.initialize_dividends_from_other" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for copying dividends to a new PerformanceTracker while
preserving dividend count.  Useful if a simulation needs to create a
new PerformanceTracker mid-stream and wants to preserve stored dividend
info.</p>
<p>Note that this does not copy unpaid dividends.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformanceTracker.process_event">
<tt class="descname">process_event</tt><big>(</big><em>event</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformanceTracker.process_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zipline.finance.performance.PerformanceTracker.progress">
<tt class="descname">progress</tt><a class="headerlink" href="#zipline.finance.performance.PerformanceTracker.progress" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformanceTracker.set_date">
<tt class="descname">set_date</tt><big>(</big><em>date</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformanceTracker.set_date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformanceTracker.to_dict">
<tt class="descname">to_dict</tt><big>(</big><em>emission_type=None</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformanceTracker.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a dictionary representing the state of this tracker.
Returns a dict object of the form described in header comments.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformanceTracker.update_dividends">
<tt class="descname">update_dividends</tt><big>(</big><em>new_dividends</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformanceTracker.update_dividends" title="Permalink to this definition">¶</a></dt>
<dd><p>Update our dividend frame with new dividends.  &#64;new_dividends should be
a DataFrame with columns containing at least the entries in
zipline.protocol.DIVIDEND_FIELDS.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformanceTracker.update_performance">
<tt class="descname">update_performance</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformanceTracker.update_performance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.finance.performance.PerformancePeriod">
<em class="property">class </em><tt class="descclassname">zipline.finance.performance.</tt><tt class="descname">PerformancePeriod</tt><big>(</big><em>starting_cash</em>, <em>period_open=None</em>, <em>period_close=None</em>, <em>keep_transactions=True</em>, <em>keep_orders=False</em>, <em>serialize_positions=True</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.adjust_cash">
<tt class="descname">adjust_cash</tt><big>(</big><em>amount</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.adjust_cash" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.adjust_field">
<tt class="descname">adjust_field</tt><big>(</big><em>field</em>, <em>value</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.adjust_field" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.as_account">
<tt class="descname">as_account</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.as_account" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.as_portfolio">
<tt class="descname">as_portfolio</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.as_portfolio" title="Permalink to this definition">¶</a></dt>
<dd><p>The purpose of this method is to provide a portfolio
object to algorithms running inside the same trading
client. The data needed is captured raw in a
PerformancePeriod, and in this method we rename some
fields for usability and remove extraneous fields.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.calculate_performance">
<tt class="descname">calculate_performance</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.calculate_performance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.calculate_positions_value">
<tt class="descname">calculate_positions_value</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.calculate_positions_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.earn_dividends">
<tt class="descname">earn_dividends</tt><big>(</big><em>dividend_frame</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.earn_dividends" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a frame of dividends whose ex_dates are all the next trading day,
calculate and store the cash and/or stock payments to be paid on each
dividend&#8217;s pay date.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.ensure_position_index">
<tt class="descname">ensure_position_index</tt><big>(</big><em>sid</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.ensure_position_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.execute_transaction">
<tt class="descname">execute_transaction</tt><big>(</big><em>txn</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.execute_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.get_positions">
<tt class="descname">get_positions</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.get_positions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.get_positions_list">
<tt class="descname">get_positions_list</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.get_positions_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.handle_cash_payment">
<tt class="descname">handle_cash_payment</tt><big>(</big><em>payment_amount</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.handle_cash_payment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.handle_commission">
<tt class="descname">handle_commission</tt><big>(</big><em>commission</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.handle_commission" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.handle_split">
<tt class="descname">handle_split</tt><big>(</big><em>split</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.handle_split" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.pay_dividends">
<tt class="descname">pay_dividends</tt><big>(</big><em>dividend_frame</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.pay_dividends" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a frame of dividends whose pay_dates are all the next trading
day, grant the cash and/or stock payments that were calculated on the
given dividends&#8217; ex dates.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.record_order">
<tt class="descname">record_order</tt><big>(</big><em>order</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.record_order" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.rollover">
<tt class="descname">rollover</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.rollover" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.to_dict">
<tt class="descname">to_dict</tt><big>(</big><em>dt=None</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a dictionary representing the state of this performance
period. See header comments for a detailed description.</p>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd>dt (datetime): If present, only return transactions for the dt.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.update_last_sale">
<tt class="descname">update_last_sale</tt><big>(</big><em>event</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.update_last_sale" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.PerformancePeriod.update_position">
<tt class="descname">update_position</tt><big>(</big><em>sid</em>, <em>amount=None</em>, <em>last_sale_price=None</em>, <em>last_sale_date=None</em>, <em>cost_basis=None</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.PerformancePeriod.update_position" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.finance.performance.Position">
<em class="property">class </em><tt class="descclassname">zipline.finance.performance.</tt><tt class="descname">Position</tt><big>(</big><em>sid</em>, <em>amount=0</em>, <em>cost_basis=0.0</em>, <em>last_sale_price=0.0</em>, <em>last_sale_date=None</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.Position" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="method">
<dt id="zipline.finance.performance.Position.adjust_commission_cost_basis">
<tt class="descname">adjust_commission_cost_basis</tt><big>(</big><em>commission</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.Position.adjust_commission_cost_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>A note about cost-basis in zipline: all positions are considered
to share a cost basis, even if they were executed in different
transactions with different commission costs, different prices, etc.</p>
<p>Due to limitations about how zipline handles positions, zipline will
currently spread an externally-delivered commission charge across
all shares in a position.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.Position.earn_dividend">
<tt class="descname">earn_dividend</tt><big>(</big><em>dividend</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.Position.earn_dividend" title="Permalink to this definition">¶</a></dt>
<dd><p>Register the number of shares we held at this dividend&#8217;s ex date so
that we can pay out the correct amount on the dividend&#8217;s pay date.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.Position.handle_split">
<tt class="descname">handle_split</tt><big>(</big><em>split</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.Position.handle_split" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the position by the split ratio, and return the resulting
fractional share that will be converted into cash.</p>
<p>Returns the unused cash.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.Position.to_dict">
<tt class="descname">to_dict</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.performance.Position.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a dictionary representing the state of this position.
Returns a dict object of the form:</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.performance.Position.update">
<tt class="descname">update</tt><big>(</big><em>txn</em><big>)</big><a class="headerlink" href="#zipline.finance.performance.Position.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-zipline.finance.risk">
<span id="risk-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">risk</span></tt> Module<a class="headerlink" href="#module-zipline.finance.risk" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="zipline.finance.risk.RiskReport">
<em class="property">class </em><tt class="descclassname">zipline.finance.risk.</tt><tt class="descname">RiskReport</tt><big>(</big><em>algorithm_returns</em>, <em>sim_params</em>, <em>benchmark_returns=None</em><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskReport" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="method">
<dt id="zipline.finance.risk.RiskReport.periods_in_range">
<tt class="descname">periods_in_range</tt><big>(</big><em>months_per</em>, <em>start</em>, <em>end</em><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskReport.periods_in_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskReport.to_dict">
<tt class="descname">to_dict</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskReport.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>RiskMetrics are calculated for rolling windows in four lengths::</dt>
<dd><ul class="first last simple">
<li>1_month</li>
<li>3_month</li>
<li>6_month</li>
<li>12_month</li>
</ul>
</dd>
</dl>
<p>The return value of this funciton is a dictionary keyed by the above
list of durations. The value of each entry is a list of RiskMetric
dicts of the same duration as denoted by the top_level key.</p>
<p>See <tt class="xref py py-meth docutils literal"><span class="pre">RiskMetrics.to_dict()</span></tt> for the detailed list of fields
provided for each period.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.finance.risk.RiskMetricsPeriod">
<em class="property">class </em><tt class="descclassname">zipline.finance.risk.</tt><tt class="descname">RiskMetricsPeriod</tt><big>(</big><em>start_date</em>, <em>end_date</em>, <em>returns</em>, <em>benchmark_returns=None</em><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsPeriod" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsPeriod.calculate_alpha">
<tt class="descname">calculate_alpha</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsPeriod.calculate_alpha" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://en.wikipedia.org/wiki/Alpha_(investment">http://en.wikipedia.org/wiki/Alpha_(investment</a>)</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsPeriod.calculate_beta">
<tt class="descname">calculate_beta</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsPeriod.calculate_beta" title="Permalink to this definition">¶</a></dt>
<dd><div class="math">
\[\beta_a = \frac{\mathrm{Cov}(r_a,r_p)}{\mathrm{Var}(r_p)}\]</div>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Beta_(finance">http://en.wikipedia.org/wiki/Beta_(finance</a>)</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsPeriod.calculate_information">
<tt class="descname">calculate_information</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsPeriod.calculate_information" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://en.wikipedia.org/wiki/Information_ratio">http://en.wikipedia.org/wiki/Information_ratio</a></p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsPeriod.calculate_max_drawdown">
<tt class="descname">calculate_max_drawdown</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsPeriod.calculate_max_drawdown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsPeriod.calculate_metrics">
<tt class="descname">calculate_metrics</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsPeriod.calculate_metrics" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsPeriod.calculate_period_returns">
<tt class="descname">calculate_period_returns</tt><big>(</big><em>returns</em><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsPeriod.calculate_period_returns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsPeriod.calculate_sharpe">
<tt class="descname">calculate_sharpe</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsPeriod.calculate_sharpe" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://en.wikipedia.org/wiki/Sharpe_ratio">http://en.wikipedia.org/wiki/Sharpe_ratio</a></p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsPeriod.calculate_sortino">
<tt class="descname">calculate_sortino</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsPeriod.calculate_sortino" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://en.wikipedia.org/wiki/Sortino_ratio">http://en.wikipedia.org/wiki/Sortino_ratio</a></p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsPeriod.calculate_volatility">
<tt class="descname">calculate_volatility</tt><big>(</big><em>daily_returns</em><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsPeriod.calculate_volatility" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsPeriod.mask_returns_to_period">
<tt class="descname">mask_returns_to_period</tt><big>(</big><em>daily_returns</em><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsPeriod.mask_returns_to_period" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsPeriod.to_dict">
<tt class="descname">to_dict</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsPeriod.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a dictionary representing the state of the risk report.
Returns a dict object of the form:</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.finance.risk.RiskMetricsCumulative">
<em class="property">class </em><tt class="descclassname">zipline.finance.risk.</tt><tt class="descname">RiskMetricsCumulative</tt><big>(</big><em>sim_params</em>, <em>returns_frequency=None</em>, <em>create_first_day_stats=False</em><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsCumulative" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Usage:</th><td class="field-body">Instantiate RiskMetricsCumulative once.
Call update() method on each dt to update the metrics.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="zipline.finance.risk.RiskMetricsCumulative.METRIC_NAMES">
<tt class="descname">METRIC_NAMES</tt><em class="property"> = ('alpha', 'beta', 'sharpe', 'algorithm_volatility', 'benchmark_volatility', 'downside_risk', 'sortino', 'information')</em><a class="headerlink" href="#zipline.finance.risk.RiskMetricsCumulative.METRIC_NAMES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsCumulative.calculate_alpha">
<tt class="descname">calculate_alpha</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsCumulative.calculate_alpha" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://en.wikipedia.org/wiki/Alpha_(investment">http://en.wikipedia.org/wiki/Alpha_(investment</a>)</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsCumulative.calculate_beta">
<tt class="descname">calculate_beta</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsCumulative.calculate_beta" title="Permalink to this definition">¶</a></dt>
<dd><div class="math">
\[\beta_a = \frac{\mathrm{Cov}(r_a,r_p)}{\mathrm{Var}(r_p)}\]</div>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Beta_(finance">http://en.wikipedia.org/wiki/Beta_(finance</a>)</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsCumulative.calculate_cumulative_returns">
<tt class="descname">calculate_cumulative_returns</tt><big>(</big><em>returns</em><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsCumulative.calculate_cumulative_returns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsCumulative.calculate_downside_risk">
<tt class="descname">calculate_downside_risk</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsCumulative.calculate_downside_risk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsCumulative.calculate_information">
<tt class="descname">calculate_information</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsCumulative.calculate_information" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://en.wikipedia.org/wiki/Information_ratio">http://en.wikipedia.org/wiki/Information_ratio</a></p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsCumulative.calculate_max_drawdown">
<tt class="descname">calculate_max_drawdown</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsCumulative.calculate_max_drawdown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsCumulative.calculate_sharpe">
<tt class="descname">calculate_sharpe</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsCumulative.calculate_sharpe" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://en.wikipedia.org/wiki/Sharpe_ratio">http://en.wikipedia.org/wiki/Sharpe_ratio</a></p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsCumulative.calculate_sortino">
<tt class="descname">calculate_sortino</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsCumulative.calculate_sortino" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://en.wikipedia.org/wiki/Sortino_ratio">http://en.wikipedia.org/wiki/Sortino_ratio</a></p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsCumulative.calculate_volatility">
<tt class="descname">calculate_volatility</tt><big>(</big><em>daily_returns</em><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsCumulative.calculate_volatility" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsCumulative.get_daily_index">
<tt class="descname">get_daily_index</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsCumulative.get_daily_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsCumulative.get_minute_index">
<tt class="descname">get_minute_index</tt><big>(</big><em>sim_params</em><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsCumulative.get_minute_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Stitches together multiple days worth of business minutes into
one continous index.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsCumulative.to_dict">
<tt class="descname">to_dict</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsCumulative.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a dictionary representing the state of the risk report.
Returns a dict object of the form:</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsCumulative.update">
<tt class="descname">update</tt><big>(</big><em>dt</em>, <em>algorithm_returns</em>, <em>benchmark_returns</em><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsCumulative.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.risk.RiskMetricsCumulative.update_current_max">
<tt class="descname">update_current_max</tt><big>(</big><big>)</big><a class="headerlink" href="#zipline.finance.risk.RiskMetricsCumulative.update_current_max" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-zipline.finance.slippage">
<span id="slippage-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">slippage</span></tt> Module<a class="headerlink" href="#module-zipline.finance.slippage" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="zipline.finance.slippage.FixedSlippage">
<em class="property">class </em><tt class="descclassname">zipline.finance.slippage.</tt><tt class="descname">FixedSlippage</tt><big>(</big><em>spread=0.0</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/slippage.html#FixedSlippage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.slippage.FixedSlippage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zipline.finance.slippage.SlippageModel" title="zipline.finance.slippage.SlippageModel"><tt class="xref py py-class docutils literal"><span class="pre">zipline.finance.slippage.SlippageModel</span></tt></a></p>
<dl class="method">
<dt id="zipline.finance.slippage.FixedSlippage.process_order">
<tt class="descname">process_order</tt><big>(</big><em>event</em>, <em>order</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/slippage.html#FixedSlippage.process_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.slippage.FixedSlippage.process_order" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.finance.slippage.SlippageModel">
<em class="property">class </em><tt class="descclassname">zipline.finance.slippage.</tt><tt class="descname">SlippageModel</tt><a class="reference internal" href="_modules/zipline/finance/slippage.html#SlippageModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.slippage.SlippageModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="attribute">
<dt id="zipline.finance.slippage.SlippageModel.process_order">
<tt class="descname">process_order</tt><a class="reference internal" href="_modules/zipline/finance/slippage.html#SlippageModel.process_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.slippage.SlippageModel.process_order" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.slippage.SlippageModel.simulate">
<tt class="descname">simulate</tt><big>(</big><em>event</em>, <em>current_orders</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/slippage.html#SlippageModel.simulate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.slippage.SlippageModel.simulate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zipline.finance.slippage.SlippageModel.volume_for_bar">
<tt class="descname">volume_for_bar</tt><a class="reference internal" href="_modules/zipline/finance/slippage.html#SlippageModel.volume_for_bar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.slippage.SlippageModel.volume_for_bar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.finance.slippage.Transaction">
<em class="property">class </em><tt class="descclassname">zipline.finance.slippage.</tt><tt class="descname">Transaction</tt><big>(</big><em>sid</em>, <em>amount</em>, <em>dt</em>, <em>price</em>, <em>order_id</em>, <em>commission=None</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/slippage.html#Transaction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.slippage.Transaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="method">
<dt id="zipline.finance.slippage.Transaction.to_dict">
<tt class="descname">to_dict</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/zipline/finance/slippage.html#Transaction.to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.slippage.Transaction.to_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.finance.slippage.VolumeShareSlippage">
<em class="property">class </em><tt class="descclassname">zipline.finance.slippage.</tt><tt class="descname">VolumeShareSlippage</tt><big>(</big><em>volume_limit=0.25</em>, <em>price_impact=0.1</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/slippage.html#VolumeShareSlippage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.slippage.VolumeShareSlippage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zipline.finance.slippage.SlippageModel" title="zipline.finance.slippage.SlippageModel"><tt class="xref py py-class docutils literal"><span class="pre">zipline.finance.slippage.SlippageModel</span></tt></a></p>
<dl class="method">
<dt id="zipline.finance.slippage.VolumeShareSlippage.process_order">
<tt class="descname">process_order</tt><big>(</big><em>event</em>, <em>order</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/slippage.html#VolumeShareSlippage.process_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.slippage.VolumeShareSlippage.process_order" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="zipline.finance.slippage.check_order_triggers">
<tt class="descclassname">zipline.finance.slippage.</tt><tt class="descname">check_order_triggers</tt><big>(</big><em>order</em>, <em>event</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/slippage.html#check_order_triggers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.slippage.check_order_triggers" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an order and a trade event, return a tuple of
(stop_reached, limit_reached).
For market orders, will return (False, False).
For stop orders, limit_reached will always be False.
For limit orders, stop_reached will always be False.
For stop limit orders a Boolean is returned to flag
that the stop has been reached.</p>
<p>Orders that have been triggered already (price targets reached),
the order&#8217;s current values are returned.</p>
</dd></dl>

<dl class="function">
<dt id="zipline.finance.slippage.create_transaction">
<tt class="descclassname">zipline.finance.slippage.</tt><tt class="descname">create_transaction</tt><big>(</big><em>event</em>, <em>order</em>, <em>price</em>, <em>amount</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/slippage.html#create_transaction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.slippage.create_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="zipline.finance.slippage.transact_partial">
<tt class="descclassname">zipline.finance.slippage.</tt><tt class="descname">transact_partial</tt><big>(</big><em>slippage</em>, <em>commission</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/slippage.html#transact_partial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.slippage.transact_partial" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="zipline.finance.slippage.transact_stub">
<tt class="descclassname">zipline.finance.slippage.</tt><tt class="descname">transact_stub</tt><big>(</big><em>slippage</em>, <em>commission</em>, <em>event</em>, <em>open_orders</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/slippage.html#transact_stub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.slippage.transact_stub" title="Permalink to this definition">¶</a></dt>
<dd><p>This is intended to be wrapped in a partial, so that the
slippage and commission models can be enclosed.</p>
</dd></dl>

</div>
<div class="section" id="module-zipline.finance.trading">
<span id="trading-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">trading</span></tt> Module<a class="headerlink" href="#module-zipline.finance.trading" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="zipline.finance.trading.NoFurtherDataError">
<em class="property">exception </em><tt class="descclassname">zipline.finance.trading.</tt><tt class="descname">NoFurtherDataError</tt><a class="reference internal" href="_modules/zipline/finance/trading.html#NoFurtherDataError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.NoFurtherDataError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>Thrown when next trading is attempted at the end of available data.</p>
</dd></dl>

<dl class="class">
<dt id="zipline.finance.trading.SimulationParameters">
<em class="property">class </em><tt class="descclassname">zipline.finance.trading.</tt><tt class="descname">SimulationParameters</tt><big>(</big><em>period_start</em>, <em>period_end</em>, <em>capital_base=10000.0</em>, <em>emission_rate='daily'</em>, <em>data_frequency='daily'</em>, <em>sids=None</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#SimulationParameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.SimulationParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="method">
<dt id="zipline.finance.trading.SimulationParameters.calculate_first_open">
<tt class="descname">calculate_first_open</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#SimulationParameters.calculate_first_open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.SimulationParameters.calculate_first_open" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the first trading day on or after self.period_start.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.SimulationParameters.calculate_last_close">
<tt class="descname">calculate_last_close</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#SimulationParameters.calculate_last_close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.SimulationParameters.calculate_last_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the last trading day on or before self.period_end</p>
</dd></dl>

<dl class="attribute">
<dt id="zipline.finance.trading.SimulationParameters.days_in_period">
<tt class="descname">days_in_period</tt><a class="reference internal" href="_modules/zipline/finance/trading.html#SimulationParameters.days_in_period"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.SimulationParameters.days_in_period" title="Permalink to this definition">¶</a></dt>
<dd><p>return the number of trading days within the period [start, end)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.finance.trading.TradingEnvironment">
<em class="property">class </em><tt class="descclassname">zipline.finance.trading.</tt><tt class="descname">TradingEnvironment</tt><big>(</big><em>load=None</em>, <em>bm_symbol='^GSPC'</em>, <em>exchange_tz='US/Eastern'</em>, <em>max_date=None</em>, <em>env_trading_calendar=&lt;module 'zipline.utils.tradingcalendar' from '/home/wiecki/working/projects/quant/zipline/zipline/utils/tradingcalendar.py'&gt;</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.add_trading_days">
<tt class="descname">add_trading_days</tt><big>(</big><em>n</em>, <em>date</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.add_trading_days"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.add_trading_days" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.days_in_range">
<tt class="descname">days_in_range</tt><big>(</big><em>start</em>, <em>end</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.days_in_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.days_in_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.exchange_dt_in_utc">
<tt class="descname">exchange_dt_in_utc</tt><big>(</big><em>dt</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.exchange_dt_in_utc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.exchange_dt_in_utc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.get_index">
<tt class="descname">get_index</tt><big>(</big><em>dt</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.get_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.get_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the index of the given &#64;dt, or the index of the preceding
trading day if the given dt is not in the trading calendar.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.get_open_and_close">
<tt class="descname">get_open_and_close</tt><big>(</big><em>day</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.get_open_and_close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.get_open_and_close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="zipline.finance.trading.TradingEnvironment.instance">
<em class="property">classmethod </em><tt class="descname">instance</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.instance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.is_market_hours">
<tt class="descname">is_market_hours</tt><big>(</big><em>test_date</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.is_market_hours"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.is_market_hours" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.is_trading_day">
<tt class="descname">is_trading_day</tt><big>(</big><em>test_date</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.is_trading_day"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.is_trading_day" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.market_minute_window">
<tt class="descname">market_minute_window</tt><big>(</big><em>start</em>, <em>count</em>, <em>step=1</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.market_minute_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.market_minute_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a DatetimeIndex containing <cite>count</cite> market minutes, starting with
<cite>start</cite> and continuing <cite>step</cite> minutes at a time.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.market_minutes_for_day">
<tt class="descname">market_minutes_for_day</tt><big>(</big><em>stamp</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.market_minutes_for_day"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.market_minutes_for_day" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.minutes_for_days_in_range">
<tt class="descname">minutes_for_days_in_range</tt><big>(</big><em>start</em>, <em>end</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.minutes_for_days_in_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.minutes_for_days_in_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all market minutes for the days between start and end, inclusive.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.next_market_minute">
<tt class="descname">next_market_minute</tt><big>(</big><em>start</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.next_market_minute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.next_market_minute" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the next market minute after &#64;start. This is either the immediate
next minute, or the open of the next market day after start.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.next_open_and_close">
<tt class="descname">next_open_and_close</tt><big>(</big><em>start_date</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.next_open_and_close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.next_open_and_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the start_date, returns the next open and close of
the market.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.next_trading_day">
<tt class="descname">next_trading_day</tt><big>(</big><em>test_date</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.next_trading_day"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.next_trading_day" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.normalize_date">
<tt class="descname">normalize_date</tt><big>(</big><em>test_date</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.normalize_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.normalize_date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.open_close_window">
<tt class="descname">open_close_window</tt><big>(</big><em>start</em>, <em>count</em>, <em>offset=0</em>, <em>step=1</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.open_close_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.open_close_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a DataFrame containing <cite>count</cite> market opens and closes,
beginning with <cite>start</cite> + <cite>offset</cite> days and continuing <cite>step</cite> minutes at
a time.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.previous_market_minute">
<tt class="descname">previous_market_minute</tt><big>(</big><em>start</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.previous_market_minute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.previous_market_minute" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the next market minute before &#64;start. This is either the immediate
previous minute, or the close of the market day before start.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.previous_open_and_close">
<tt class="descname">previous_open_and_close</tt><big>(</big><em>start_date</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.previous_open_and_close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.previous_open_and_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the start_date, returns the previous open and close of the
market.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.previous_trading_day">
<tt class="descname">previous_trading_day</tt><big>(</big><em>test_date</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.previous_trading_day"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.previous_trading_day" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.trading_day_distance">
<tt class="descname">trading_day_distance</tt><big>(</big><em>first_date</em>, <em>second_date</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.trading_day_distance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.trading_day_distance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zipline.finance.trading.TradingEnvironment.utc_dt_in_exchange">
<tt class="descname">utc_dt_in_exchange</tt><big>(</big><em>dt</em><big>)</big><a class="reference internal" href="_modules/zipline/finance/trading.html#TradingEnvironment.utc_dt_in_exchange"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.finance.trading.TradingEnvironment.utc_dt_in_exchange" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">zipline.finance</span></tt> subpackage</a><ul>
<li><a class="reference internal" href="#module-zipline.finance.commission"><tt class="docutils literal"><span class="pre">commission</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-zipline.finance.performance"><tt class="docutils literal"><span class="pre">performance</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-zipline.finance.risk"><tt class="docutils literal"><span class="pre">risk</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-zipline.finance.slippage"><tt class="docutils literal"><span class="pre">slippage</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-zipline.finance.trading"><tt class="docutils literal"><span class="pre">trading</span></tt> Module</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="zipline.data.html"
                        title="previous chapter"><tt class="docutils literal"><span class="pre">zipline.data</span></tt> subpackage</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="zipline.gens.html"
                        title="next chapter"><tt class="docutils literal"><span class="pre">zipline.gens</span></tt> subpackage</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/zipline.finance.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="zipline.gens.html" title="zipline.gens subpackage"
             >next</a> |</li>
        <li class="right" >
          <a href="zipline.data.html" title="zipline.data subpackage"
             >previous</a> |</li>
        <li><a href="index.html">zipline 0.7.0 documentation</a> &raquo;</li>
          <li><a href="modules.html" >Packages and Modules</a> &raquo;</li>
          <li><a href="zipline.html" ><tt class="docutils literal"><span class="pre">zipline</span></tt> Package</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Quantopian Inc.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>